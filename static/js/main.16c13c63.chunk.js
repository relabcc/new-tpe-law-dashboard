(this["webpackJsonpnew-tpe-law-dashboard"]=this["webpackJsonpnew-tpe-law-dashboard"]||[]).push([[0],{351:function(e,t,a){e.exports=a.p+"static/media/envelope.0df56668.svg"},367:function(e,t,a){e.exports=a.p+"static/media/listicon.bd1cc40f.svg"},374:function(e,t,a){e.exports=a(704)},704:function(e,t,a){"use strict";a.r(t);a(375),a(384),a(569),a(572);var n=a(1),r=a.n(n),o=a(230),c=a.n(o),l=a(727),i=a(723),m=a(17),u=a(338),s=Object(n.createContext)({}),d=a(165),f=a(34),b=a(90),h=a(721),p=a(341),E=a.n(p),g=a(26),v=a.n(g),x=a(52),j=a.n(x),w=a(132),y=a.n(w),O=a(342),_=a.n(O),k=function(e){return"".concat(16*e,"px")},C=[30,48,62,80].map(k),S=[26,44,58,76].map(k),z=[[2,"mobile"],[3,"tablet"]],B=C.map((function(e,t){var a=z.findIndex((function(e){return Object(b.a)(e,1)[0]>t}));return a>=0?a:z.length})),H=(function(e){var t={}}((function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];var n=t.length;return n<=1?t[0]:C.map((function(e,a){return y()(t,[B[a]],null)}))})),'Arial, "PingFang TC", "HeiTi TC", "Microsoft JhengHei", sans-serif'),I={heading:H,body:H,mono:"Menlo, monospace"},F=[50].concat(j()(100,1e3,100)),D=_()(E()("#6980DB"),(function(e){return v()(e)?e.reduce((function(e,t,a){return e[F[a]]=t,e}),{}):e})),W=Object(f.a)(Object(f.a)({},h.a),{},{fonts:I,colors:Object(f.a)(Object(f.a)(Object(f.a)({},h.a.colors),D),{},{primary:"#6980DB",secondary:y()(D,"".concat("green",".700")),danger:y()(D,"".concat("red",".700")),text:"#404B55",heading:"#403D88",bg:"#F6F7FF",paleBlue:"#EBEFFF",lightBlue:"#B7C2F4",darkBlue:"#4863BD"}),breakpoints:C,containerWidth:S});function A(){var e=Object(d.a)(["\n  body {\n    min-width: 100%;\n    min-height: 100%;\n    font-size: ","px;\n    color: ",";\n    background-color: ",";\n  }\n\n  img {\n    width: 100%;\n  }\n"]);return A=function(){return e},e}var P=function(e){return Object(m.c)(A(),e,W.colors.text,W.colors.bg)},M=function(e){var t=e.children;return r.a.createElement(l.a,{theme:W},r.a.createElement(u.SizeMe,null,(function(e){var a=e.size.width,o=Math.round(Math.max(a,800)/94);return r.a.createElement("div",null,r.a.createElement(s.Provider,{value:{em:o}},r.a.createElement(n.Fragment,null,r.a.createElement(i.a,null),r.a.createElement(m.a,{styles:P(o)}),t)))})))},R=Object(n.createContext)({}),T=a(346),L=function(e){return Object(T.useMediaQuery)({query:"(min-width: ".concat(e,")")})},J=function(e){var t=e.children,a=C.map(L);return r.a.createElement(R.Provider,{value:a},t)},N=a(89),Y=function(e){var t=e.children;return r.a.createElement(N.b,{url:"https://new-tpe-law-dash-api.relab.cc"},t)},q=a(711);q.a.Vertical=function(e){return r.a.createElement(q.a,Object.assign({direction:"column"},e))};var Q=q.a,V=a(712);V.a.Inline=function(e){return r.a.createElement(V.a,Object.assign({as:"span"},e))},V.a.Bold=function(e){return r.a.createElement(V.a,Object.assign({fontWeight:"bold"},e))},V.a.Thin=function(e){return r.a.createElement(V.a,Object.assign({fontWeight:"200"},e))},j()(1,7).forEach((function(e){V.a["H".concat(e)]=function(t){return r.a.createElement(V.a,Object.assign({as:"h".concat(e),fontSize:"".concat(5-e,"xl")},t))}}));var G=V.a,K=a(25),U=a(370),X=a(88),Z=X.a;X.a.Inline=function(e){return r.a.createElement(X.a,Object.assign({as:"span",display:"inline-block",verticalAlign:"middle"},e))},X.a.Absolute=function(e){return r.a.createElement(X.a,Object.assign({position:"absolute"},e))},X.a.FullAbs=function(e){return r.a.createElement(X.a.Absolute,Object.assign({top:"0",left:"0",right:"0",bottom:"0"},e))},X.a.Relative=function(e){return r.a.createElement(X.a,Object.assign({position:"relative"},e))},X.a.Fixed=function(e){return r.a.createElement(X.a,Object.assign({position:"fixed"},e))},X.a.Invisible=function(e){return r.a.createElement(X.a.Absolute,Object.assign({width:"0",height:"0",overflow:"hidden",opacity:"0"},e))};var $=Object(U.a)((function(e){var t=e.children,a=e.windowSize,n=Object(K.a)(e,["children","windowSize"]);return r.a.createElement(Z,Object.assign({style:{height:a.height}},n),t)})),ee=a(171),te=a.n(ee),ae=a(349),ne=a.n(ae),re=(a(662),a(179)),oe=a(350);function ce(){var e=Object(d.a)(["\n  .Dropdown-control {\n    border: none;\n    border-radius: ",";\n    text-align: center;\n    background-color: white;\n    color: black;\n    font-family: inherit;\n    padding: 0.25em;\n    font-size: 1em;\n    cursor: pointer;\n    transition: none;\n    box-shadow: 0.125em 0.125em 0.125em ",";\n  }\n  &.is-open {\n    .Dropdown-control {\n      border-radius: "," "," 0 0;\n    }\n  }\n  .Dropdown-placeholder {\n\n  }\n  .Dropdown-menu {\n    border: 1px solid;\n    transform: translateY(1px);\n    border-radius: 0 0 "," ",";\n  }\n  .Dropdown-option {\n    color: inherit;\n    text-align: center;\n    padding: 0.5em 1em;\n    border-bottom: 1px solid gray;\n  }\n  .Dropdown-arrow {\n    border-color: black transparent transparent;\n    top: 0.8em;\n    right: 0.5em;\n  }\n"]);return ce=function(){return e},e}var le=Object(re.a)(ne.a)(ce(),"0.125em",Object(oe.a)("colors.blackAlpha.300"),"0.125em","0.125em","0.125em","0.125em"),ie=function(e){var t=e.options,a=e.onChange,n=(e.onBlur,e.value),o=(e.name,e.placeholder),c=e.disabled,l=Object(K.a)(e,["options","onChange","onBlur","value","name","placeholder","disabled"]),i=t&&t.find((function(e){return e.value===n}));return r.a.createElement(Z,l,r.a.createElement(le,{onChange:a,options:t,value:i,placeholder:o,disabled:c}))};ie.defaultProps={onChange:function(){}};var me=ie,ue=[{label:"109\u5e74",value:109}],se=function(e){var t,a=e.value,n=e.onChange,o=Object(N.c)("years",null,[]).data;return t=te()(o)?o.map((function(e){return{label:"".concat(e,"\u5e74"),value:e}})):ue,r.a.createElement(me,{options:t,value:a,onChange:function(e){return n(e.value)},placeholder:"\u8f09\u5165\u4e2d...",fontSize:"1.5em",width:"6em"})},de=function(e){return r.a.createElement(Z,Object.assign({position:"relative",overflow:"hidden",borderRadius:"1.5em",boxShadow:"1em 1em 1.5em rgba(0,0,0,0.2)"},e))},fe=a(713);fe.a.defaultProps={color:"heading"},j()(1,7).forEach((function(e){fe.a["H".concat(e)]=function(t){return r.a.createElement(fe.a,Object.assign({as:"h".concat(e),fontSize:"".concat(5-e,"xl")},t))}}));var be=fe.a,he=a(133),pe=a.n(he),Ee=a(714),ge={gif:"image/gif",jpeg:"image/jpeg",jpg:"image/jpeg",png:"image/png",tiff:"image/tiff",tif:"image/tiff",webp:"image/webp"},ve=/data:(\w+\/\w+);base64/,xe=function(e){var t=e.src,a=e.alt,o=Object(K.a)(e,["src","alt"]),c=Object(n.useMemo)((function(){return v()(t)?{sources:t.map((function(e){var t=ve.exec(e),a=t?t[1]:ge[pe()(e.split("."))];return{srcset:e,type:a}})),fallback:pe()(t)}:null}),[t]);return v()(t)?r.a.createElement(Ee.a,Object.assign({as:"picture"},o),c.sources.map((function(e,t){return r.a.createElement("source",Object.assign({key:t},e))})),r.a.createElement("img",{src:c.fallback,alt:a})):r.a.createElement(Ee.a,Object.assign({src:t,alt:a},o))};xe.defaultProps={width:"100%"},xe.displayName="ReImage";var je=xe,we=function(e){var t=e.children,a=e.border,n=e.borderColor,o=e.bg,c=e.as,l=Object(K.a)(e,["children","border","borderColor","bg","as"]);return r.a.createElement(Z,l,r.a.createElement(Z,{position:"relative",pt:"100%"},r.a.createElement(Z,{position:"absolute",top:"0",left:"0",right:"0",bottom:"0",width:"100%",borderRadius:"50%",border:a,borderColor:n,bg:o,as:c},r.a.createElement(Z,{top:"50%",left:"50%",transform:"translate(-50%, -50%)",position:"absolute",lineHeight:"0"},t))))};we.displayName="Circle";var ye=we,Oe=function(e){var t=e.values,a=e.showSep,n=e.textColor,o=Object(K.a)(e,["values","showSep","textColor"]);return r.a.createElement(Q,Object.assign({bg:"rgba(255,255,255,0.6)",borderRadius:"1em",px:"1em",py:"0.5em",color:"darkBlue"},o),t.reduce((function(e,t,o){var c=t.label,l=t.color,i=t.value,m=o&&a?[r.a.createElement(Z,{key:"sep-".concat(o),my:"0.5em",mx:"0.25em",borderLeft:"2px solid",borderLeftColor:"lightBlue"})]:[];return m.push(r.a.createElement(Z,{key:o,flex:"1",textAlign:"center"},r.a.createElement(Q,{alignItems:"center",justifyContent:"center"},r.a.createElement(ye,{width:"0.875em",bg:l}),r.a.createElement(G,{mx:"0.25em",fontSize:"0.875em",fontWeight:"bold",color:n||"text"},c)),r.a.createElement(G,{lineHeight:"1.75",fontWeight:"bold",fontSize:"1.5em"},Math.round(100*i),"%"))),e.concat(m)}),[]))};Oe.defaultProps={showSep:!0};var _e,ke=Oe,Ce=a(351),Se=a.n(Ce),ze=function(e){var t=e.data,a=e.texts,n=Object(K.a)(e,["data","texts"]);return r.a.createElement(Z,n,r.a.createElement(Z,{width:.5,mx:"auto",my:"1em"},r.a.createElement(je,{src:Se.a})),r.a.createElement(Z,null,r.a.createElement(be.H4,{fontSize:"1.5em"},a.total),r.a.createElement(Q,{alignItems:"flex-end",my:"1em"},r.a.createElement(Z,{flex:"1",borderBottom:"0.25em solid",borderBottomColor:"white",px:"0.5em"},r.a.createElement(G,{color:"primary",lineHeight:"1",fontSize:"3.25em",fontWeight:"bold"},t.summary.total.toLocaleString())),r.a.createElement(Z,{ml:"0.5em",fontSize:"1.25em"},"\u4ef6"))),r.a.createElement(Z,null,r.a.createElement(be.H4,{fontSize:"1.5em"},a.med_total),r.a.createElement(ke,{my:"1em",values:t.summary.meds.map((function(e,n){var r=e.key,o=e.value;return{label:a[r],color:t.colors[n],value:o}}))})))},Be=a(720),He=a(728),Ie=a(371),Fe=a(354);"undefined"!==typeof window&&(_e="Internet Explorer"===a.n(Fe).a.getParser(window.navigator.userAgent).getBrowserName());var De=_e,We=function(e){var t=e.Comp,a=e.width,o=Object(K.a)(e,["Comp","width"]),c=Object(n.useState)({}),l=Object(b.a)(c,2),i=l[0],m=l[1];return De?r.a.createElement(Ie.a,{bounds:!0,onResize:function(e){var t=e.bounds;return m(t)}},(function(e){var n=e.measureRef;return r.a.createElement("div",{ref:n},i.width&&r.a.createElement(t,Object.assign({},o,{key:i.width,isIE:!0,size:i,ratio:i.width/a})))})):Object(n.createElement)(t,Object(f.a)(Object(f.a)({},o),{},{size:{width:a},ratio:1}))},Ae=function(e){return function(t){return function(a){return Object(n.createElement)(We,Object(f.a)(Object(f.a)({},a),{},{Comp:t,width:e}))}}},Pe=Ae(400)((function(e){var t=e.data,a=e.colors,n=e.size,o=e.ratio,c=e.isIE;return r.a.createElement(Be.a,{data:t,colorScale:a,innerRadius:100*o,labels:function(){return null},animate:{duration:1e3},width:n.width,height:n.width,containerComponent:r.a.createElement(He.a,{responsive:!c})})})),Me=function(e){var t=e.data,a=e.colors,n=e.texts,o=Object(K.a)(e,["data","colors","texts"]);return r.a.createElement(Z,Object.assign({position:"relative",px:"5%"},o),r.a.createElement(Pe,{data:t,colors:a}),r.a.createElement(Z,{position:"absolute",textAlign:"center",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:"heading",fontWeight:"bold"},r.a.createElement(G,{fontSize:"1.5em"},"\u672c\u5e74"),r.a.createElement(G,null,n.channel_label)))},Re=function(e){var t=e.data,a=e.texts,n=Object(K.a)(e,["data","texts"]);return r.a.createElement(Z,n,r.a.createElement(be.H4,{mt:"1rem",mx:"1.5rem",fontSize:"1.5em"},a.channel_title),r.a.createElement(Z,null,r.a.createElement(Me,{data:t.channel,colors:t.colors,texts:a}),r.a.createElement(ke,{values:t.channel.map((function(e,a){var n=e.x,r=e.y;return{color:t.colors[a],label:n,value:r}})).reverse(),textColor:"black",bg:"transparent",showSep:!1,px:"2em",fontSize:"1.125em",mt:"-1em"})))},Te=a(719),Le=a(726),Je=a(731),Ne=a(724),Ye=a(732),qe=a(722),Qe=a(729),Ve=Ae(600)((function(e){var t=e.size.width,a=e.ratio,n=e.isIE,o=e.data,c=e.texts,l=e.transformData;return r.a.createElement(Te.a,{height:320/600*t,width:t,domainPadding:{x:30*a},animate:{duration:1e3},containerComponent:r.a.createElement(Le.a,{style:{},responsive:!n,labels:function(e){var t=e.datum;return t.y>0?"".concat(t.y," ").concat(c[t.key],"\u6848\u4ef6"):null},labelComponent:r.a.createElement(Je.a,{flyoutWidth:120})})},r.a.createElement(Ne.a,{y:25,text:c.month_axis_label}),r.a.createElement(Ye.a,{colorScale:o.colors},l.map((function(e,t){return r.a.createElement(qe.a,{data:e,barWidth:28*a,key:t})}))),r.a.createElement(Qe.a,{dependentAxis:!0,tickFormat:function(e){return e}}),r.a.createElement(Qe.a,{tickFormat:j()(12).map((function(e){return"".concat(e+1,"\u6708")}))}))})),Ge=function(e){var t=e.data,a=e.texts,n=t.months.reduce((function(e,t){return t.forEach((function(t,a){e[a].push(t)})),e}),[[],[],[]]);return r.a.createElement(Z,{borderLeft:"1px solid",borderColor:"lightBlue",pl:"1.5em",ml:"-1.5em"},r.a.createElement(Ve,{data:t,transformData:n,texts:a}))},Ke=function(e){var t=e.data,a=e.colors,n=e.texts,o=Object(K.a)(e,["data","colors","texts"]);return r.a.createElement(Q,Object.assign({justifyContent:"center"},o),t.map((function(e,t){var o=e.key;return r.a.createElement(Q,{alignItems:"center",mx:"0.5em",justifyContent:"center",key:t},r.a.createElement(ye,{width:"1em",bg:a[t]}),r.a.createElement(G,{mx:"0.25em",fontWeight:"bold",color:"text"},n[o]))})))},Ue=function(e){var t=e.data,a=e.texts,n=Object(K.a)(e,["data","texts"]);return r.a.createElement(Z,Object.assign({py:"1em",px:"1.5em"},n),r.a.createElement(be.H4,{fontSize:"1.5em"},a.month_title),r.a.createElement(Ge,{data:t,texts:a}),r.a.createElement(Ke,{data:t.months[0],colors:t.colors,texts:a}))},Xe=a(366),Ze=a.n(Xe),$e=a(367),et=a.n($e),tt=a(733),at=a(368),nt=a.n(at),rt=Ae(800)((function(e){var t=e.data,a=e.texts,n=e.size,o=e.ratio,c=e.isIE,l=t.areas.reduce((function(e,t){var a=t.label,n=t.med_accepted,r=t.med_pending,o=t.med_rejected;return e.forEach((function(t,c){c?c===e.length-1?t.push({x:a,y:100*r,key:"med_pending"}):t.push({x:a,y:100*o,key:"med_rejected"}):t.push({x:a,y:100*n,key:"med_accepted"})})),e}),[[],[],[]]),i=t.colors.map((function(e){return[e]}));return r.a.createElement(Te.a,{domainPadding:{x:50*o},width:n.width,height:.375*n.width,animate:{duration:1e3},containerComponent:r.a.createElement(Le.a,{style:{},labels:function(e){var t=e.datum;return t.y>0?"".concat(a[t.key]).concat(nt()(t.y),"%"):null},voronoiDimension:"x",labelComponent:r.a.createElement(Je.a,{flyoutWidth:80}),responsive:!c})},r.a.createElement(tt.a,{offset:20*o,style:{data:{width:20*o}}},l.map((function(e,t){return r.a.createElement(Ye.a,{colorScale:i[t],key:t},r.a.createElement(qe.a,{data:e.slice(0,10),barWidth:20*o}))}))),r.a.createElement(Ne.a,{y:30,x:24,text:"(%)"}))})),ot=function(e){var t=e.data,a=e.texts;return r.a.createElement(Q,null,r.a.createElement(Z,{width:.7,bg:"white",py:"2em"},r.a.createElement(Q,{justifyContent:"space-between",alignItems:"flex-end",mx:"2em"},r.a.createElement(be.H4,{fontSize:"1.5em"},a.area_title),r.a.createElement(Ke,{data:t.months[0],colors:t.colors,texts:a})),r.a.createElement(rt,{data:t,texts:a})),r.a.createElement(Z,{width:.3,height:"50vh",overflowY:"scroll",p:"2em"},r.a.createElement(Q,{alignItems:"center"},r.a.createElement(Z,{width:"3em",mr:"0.25em"},r.a.createElement(je,{src:et.a})),r.a.createElement(be.H4,{lineHeight:"1",fontSize:"1.5em"},a.area_list)),r.a.createElement(Z,{mt:"1.5em"},t.areas.slice(10).map((function(e,n){var o=Ze()(e,(function(e,t){return{key:t,value:e}}));return r.a.createElement(Z,{key:n},r.a.createElement(Q,{alignItems:"flex-end"},r.a.createElement(be.H4,{lineHeight:"1",fontSize:"1.125em",mr:"0.5rem"},e.label),r.a.createElement(be.H6,null,a.area_list_label)),r.a.createElement(ke,{my:"1em",values:o.slice(1).map((function(e,n){var r=e.key,o=e.value;return{label:a[r],color:t.colors[n],value:o}}))}))})))))},ct=a(369),lt=a.n(ct),it=["med_total","total"],mt=["med_accepted","med_rejected","med_pending"],ut=function(e){var t=e.reduce((function(e,t){return e+=t.value}),0);return e.map((function(e){var a=e.label;return{y:e.value/t,x:a}}))},st={title:"\u6848\u4ef6\u8072\u8acb\u8207\u53d7\u7406\u6578\u64da",total:"\u53d7\u7406\u7e3d\u6848\u4ef6\u6578",med_total:"\u8abf\u89e3\u7d50\u679c\u6848\u4ef6\u6578",med_accepted:"\u6210\u7acb",med_rejected:"\u4e0d\u6210\u7acb",med_pending:"\u672a\u7d50",channel_title:"\u8072\u8acb\u6848\u4ef6\u985e\u5225",channel_label:"\u7e3d\u53d7\u7406\u6848\u985e\u5225",month_title:"\u6bcf\u6708\u53d7\u7406\u6848\u4ef6\u8207\u8abf\u89e3\u7d50\u679c\u6bd4\u4f8b",month_axis_label:"\u7e3d\u7533\u8acb\u6848\u4ef6\u6578",area_title:"\u5404\u5340\u8abf\u89e3\u7d50\u679c TOP10",area_list:"\u5404\u5340\u8abf\u89e3\u7d50\u679c\uff08\u5168\u90e8\uff09",area_list_label:"\u6848\u4ef6\u53d7\u7406\u72c0\u6cc1"},dt=function(){var e=r.a.useState((new Date).getFullYear()-1911),t=Object(b.a)(e,2),a=t[0],o=t[1],c=function(){var e=Object(N.c)("texts",null,[]),t=e.data;return e.error?st:t?Object.assign(st,t):{}}(),l=function(e){var t=Object(N.c)("data?year=".concat(e),null,[e]).data;return Object(n.useMemo)((function(){if(!t||!te()(t))return t;var e={},a=[],n={};t.meds.forEach((function(t){var r=t.month,o=t.areas,c={};o.forEach((function(t){var a=t.stats,r=t.areaname;n[r]=n[r]||{},mt.forEach((function(t){e[t]=e[t]||0,e[t]+=a[t],c[t]=c[t]||0,c[t]+=a[t],n[r][t]=n[r][t]||0,n[r][t]+=a[t]})),it.forEach((function(t){e[t]=e[t]||0,e[t]+=a[t],n[r][t]=n[r][t]||0,n[r][t]+=a[t]}))})),a.push(mt.map((function(e){return{x:r,key:e,y:c[e],value:c[e]}})))}));var r=Object.entries(n).map((function(e){var t=Object(b.a)(e,2),a=t[0],n=t[1];return Object(f.a)({label:a},mt.reduce((function(e,t){return e[t]=n.med_total?n[t]/n.med_total:0,e}),{}))}));return{areas:lt()(r,"med_accepted").reverse(),summary:{total:e.total,meds:mt.map((function(t){return{key:t,value:e.med_total?e[t]/e.med_total:0}}))},months:a,keys:mt,colors:[W.colors.primary,W.colors.darkBlue,W.colors.lightBlue],channel:ut(t.channel)}}),[t])}(a);return r.a.createElement($,{p:"4em",minWidth:800},r.a.createElement(Q,{alignItems:"center",fontWeight:"bold"},r.a.createElement(se,{value:a,onChange:o}),r.a.createElement(G.H2,{fontSize:"1.75em",mx:"1em"},c.title)),l&&r.a.createElement(r.a.Fragment,null,r.a.createElement(de,{as:Q,my:"2.5em"},r.a.createElement(ze,{bg:"paleBlue",width:"22%",p:"1.5em",data:l,texts:c}),r.a.createElement(Re,{width:"26%",data:l,texts:c}),r.a.createElement(Ue,{width:"52%",data:l,texts:c})),r.a.createElement(de,{my:"2.5em"},r.a.createElement(ot,{data:l,texts:c}))))};var ft=function(){return r.a.createElement(dt,null)};c.a.render(r.a.createElement(M,null,r.a.createElement(J,null,r.a.createElement(Y,null,r.a.createElement(ft,null)))),document.getElementById("root"))}},[[374,1,2]]]);
//# sourceMappingURL=main.16c13c63.chunk.js.map