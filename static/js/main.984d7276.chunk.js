(this["webpackJsonpnew-tpe-law-dashboard"]=this["webpackJsonpnew-tpe-law-dashboard"]||[]).push([[0],{351:function(e,t,a){e.exports=a.p+"static/media/envelope.0df56668.svg"},365:function(e,t,a){e.exports=a.p+"static/media/listicon.bd1cc40f.svg"},371:function(e,t,a){e.exports=a(701)},701:function(e,t,a){"use strict";a.r(t);a(372),a(381),a(566),a(569);var n=a(1),r=a.n(n),o=a(231),l=a.n(o),c=a(724),i=a(720),m=a(17),u=a(165),s=Object(n.createContext)({}),d=a(166),f=a(44),b=a(109),h=a(718),p=a(341),E=a.n(p),g=a(25),v=a.n(g),x=a(52),y=a.n(x),j=a(132),w=a.n(j),O=a(342),_=a.n(O),k=function(e){return"".concat(16*e,"px")},C=[30,48,62,80].map(k),S=[26,44,58,76].map(k),z=[[2,"mobile"],[3,"tablet"]],B=C.map((function(e,t){var a=z.findIndex((function(e){return Object(b.a)(e,1)[0]>t}));return a>=0?a:z.length})),H=(function(e){var t={}}((function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];var n=t.length;return n<=1?t[0]:C.map((function(e,a){return w()(t,[B[a]],null)}))})),'Arial, "PingFang TC", "HeiTi TC", "Microsoft JhengHei", sans-serif'),I={heading:H,body:H,mono:"Menlo, monospace"},F=[50].concat(y()(100,1e3,100)),D=_()(E()("#6980DB"),(function(e){return v()(e)?e.reduce((function(e,t,a){return e[F[a]]=t,e}),{}):e})),W=Object(f.a)(Object(f.a)({},h.a),{},{fonts:I,colors:Object(f.a)(Object(f.a)(Object(f.a)({},h.a.colors),D),{},{primary:"#6980DB",secondary:w()(D,"".concat("green",".700")),danger:w()(D,"".concat("red",".700")),text:"#404B55",heading:"#403D88",bg:"#F6F7FF",paleBlue:"#EBEFFF",lightBlue:"#B7C2F4",darkBlue:"#4863BD"}),breakpoints:C,containerWidth:S});function A(){var e=Object(d.a)(["\n  body {\n    min-width: 100%;\n    min-height: 100%;\n    font-size: ","px;\n    color: ",";\n    background-color: ",";\n  }\n\n  img {\n    width: 100%;\n  }\n"]);return A=function(){return e},e}var P=function(e){return Object(m.c)(A(),e,W.colors.text,W.colors.bg)},M=function(e){var t=e.children;return r.a.createElement(c.a,{theme:W},r.a.createElement(u.SizeMe,null,(function(e){var a=e.size.width,o=Math.round(Math.max(a,800)/94);return r.a.createElement("div",null,r.a.createElement(s.Provider,{value:{em:o}},r.a.createElement(n.Fragment,null,r.a.createElement(i.a,null),r.a.createElement(m.a,{styles:P(o)}),t)))})))},R=Object(n.createContext)({}),T=a(346),L=function(e){return Object(T.useMediaQuery)({query:"(min-width: ".concat(e,")")})},J=function(e){var t=e.children,a=C.map(L);return r.a.createElement(R.Provider,{value:a},t)},N=a(89),Y=function(e){var t=e.children;return r.a.createElement(N.b,{url:"https://new-tpe-law-dash-api.relab.cc"},t)},q=a(708);q.a.Vertical=function(e){return r.a.createElement(q.a,Object.assign({direction:"column"},e))};var Q=q.a,V=a(709);V.a.Inline=function(e){return r.a.createElement(V.a,Object.assign({as:"span"},e))},V.a.Bold=function(e){return r.a.createElement(V.a,Object.assign({fontWeight:"bold"},e))},V.a.Thin=function(e){return r.a.createElement(V.a,Object.assign({fontWeight:"200"},e))},y()(1,7).forEach((function(e){V.a["H".concat(e)]=function(t){return r.a.createElement(V.a,Object.assign({as:"h".concat(e),fontSize:"".concat(5-e,"xl")},t))}}));var G=V.a,K=a(27),U=a(368),X=a(88),Z=X.a;X.a.Inline=function(e){return r.a.createElement(X.a,Object.assign({as:"span",display:"inline-block",verticalAlign:"middle"},e))},X.a.Absolute=function(e){return r.a.createElement(X.a,Object.assign({position:"absolute"},e))},X.a.FullAbs=function(e){return r.a.createElement(X.a.Absolute,Object.assign({top:"0",left:"0",right:"0",bottom:"0"},e))},X.a.Relative=function(e){return r.a.createElement(X.a,Object.assign({position:"relative"},e))},X.a.Fixed=function(e){return r.a.createElement(X.a,Object.assign({position:"fixed"},e))},X.a.Invisible=function(e){return r.a.createElement(X.a.Absolute,Object.assign({width:"0",height:"0",overflow:"hidden",opacity:"0"},e))};var $=Object(U.a)((function(e){var t=e.children,a=e.windowSize,n=Object(K.a)(e,["children","windowSize"]);return r.a.createElement(Z,Object.assign({style:{height:a.height}},n),t)})),ee=a(172),te=a.n(ee),ae=a(349),ne=a.n(ae),re=(a(659),a(180)),oe=a(350);function le(){var e=Object(d.a)(["\n  .Dropdown-control {\n    border: none;\n    border-radius: ",";\n    text-align: center;\n    background-color: white;\n    color: black;\n    font-family: inherit;\n    padding: 0.25em;\n    font-size: 1em;\n    cursor: pointer;\n    transition: none;\n    box-shadow: 0.125em 0.125em 0.125em ",";\n  }\n  &.is-open {\n    .Dropdown-control {\n      border-radius: "," "," 0 0;\n    }\n  }\n  .Dropdown-placeholder {\n\n  }\n  .Dropdown-menu {\n    border: 1px solid;\n    transform: translateY(1px);\n    border-radius: 0 0 "," ",";\n  }\n  .Dropdown-option {\n    color: inherit;\n    text-align: center;\n    padding: 0.5em 1em;\n    border-bottom: 1px solid gray;\n  }\n  .Dropdown-arrow {\n    border-color: black transparent transparent;\n    top: 0.8em;\n    right: 0.5em;\n  }\n"]);return le=function(){return e},e}var ce=Object(re.a)(ne.a)(le(),"0.125em",Object(oe.a)("colors.blackAlpha.300"),"0.125em","0.125em","0.125em","0.125em"),ie=function(e){var t=e.options,a=e.onChange,n=(e.onBlur,e.value),o=(e.name,e.placeholder),l=e.disabled,c=Object(K.a)(e,["options","onChange","onBlur","value","name","placeholder","disabled"]),i=t&&t.find((function(e){return e.value===n}));return r.a.createElement(Z,c,r.a.createElement(ce,{onChange:a,options:t,value:i,placeholder:o,disabled:l}))};ie.defaultProps={onChange:function(){}};var me=ie,ue=[{label:"109\u5e74",value:109}],se=function(e){var t,a=e.value,n=e.onChange,o=Object(N.c)("years",null,[]).data;return t=te()(o)?o.map((function(e){return{label:"".concat(e,"\u5e74"),value:e}})):ue,r.a.createElement(me,{options:t,value:a,onChange:function(e){return n(e.value)},placeholder:"\u8f09\u5165\u4e2d...",fontSize:"1.5em",width:"6em"})},de=function(e){return r.a.createElement(Z,Object.assign({position:"relative",overflow:"hidden",borderRadius:"1.5em",boxShadow:"1em 1em 1.5em rgba(0,0,0,0.2)"},e))},fe=a(710);fe.a.defaultProps={color:"heading"},y()(1,7).forEach((function(e){fe.a["H".concat(e)]=function(t){return r.a.createElement(fe.a,Object.assign({as:"h".concat(e),fontSize:"".concat(5-e,"xl")},t))}}));var be=fe.a,he=a(133),pe=a.n(he),Ee=a(711),ge={gif:"image/gif",jpeg:"image/jpeg",jpg:"image/jpeg",png:"image/png",tiff:"image/tiff",tif:"image/tiff",webp:"image/webp"},ve=/data:(\w+\/\w+);base64/,xe=function(e){var t=e.src,a=e.alt,o=Object(K.a)(e,["src","alt"]),l=Object(n.useMemo)((function(){return v()(t)?{sources:t.map((function(e){var t=ve.exec(e),a=t?t[1]:ge[pe()(e.split("."))];return{srcset:e,type:a}})),fallback:pe()(t)}:null}),[t]);return v()(t)?r.a.createElement(Ee.a,Object.assign({as:"picture"},o),l.sources.map((function(e,t){return r.a.createElement("source",Object.assign({key:t},e))})),r.a.createElement("img",{src:l.fallback,alt:a})):r.a.createElement(Ee.a,Object.assign({src:t,alt:a},o))};xe.defaultProps={width:"100%"},xe.displayName="ReImage";var ye=xe,je=function(e){var t=e.children,a=e.border,n=e.borderColor,o=e.bg,l=e.as,c=Object(K.a)(e,["children","border","borderColor","bg","as"]);return r.a.createElement(Z,c,r.a.createElement(Z,{position:"relative",pt:"100%"},r.a.createElement(Z,{position:"absolute",top:"0",left:"0",right:"0",bottom:"0",width:"100%",borderRadius:"50%",border:a,borderColor:n,bg:o,as:l},r.a.createElement(Z,{top:"50%",left:"50%",transform:"translate(-50%, -50%)",position:"absolute",lineHeight:"0"},t))))};je.displayName="Circle";var we=je,Oe=function(e){var t=e.values,a=e.showSep,n=e.textColor,o=Object(K.a)(e,["values","showSep","textColor"]);return r.a.createElement(Q,Object.assign({bg:"rgba(255,255,255,0.6)",borderRadius:"1em",px:"1em",py:"0.5em",color:"darkBlue"},o),t.reduce((function(e,t,o){var l=t.label,c=t.color,i=t.value,m=o&&a?[r.a.createElement(Z,{key:"sep-".concat(o),my:"0.5em",mx:"0.25em",borderLeft:"2px solid",borderLeftColor:"lightBlue"})]:[];return m.push(r.a.createElement(Z,{key:o,flex:"1",textAlign:"center"},r.a.createElement(Q,{alignItems:"center",justifyContent:"center"},r.a.createElement(we,{width:"0.875em",bg:c}),r.a.createElement(G,{mx:"0.25em",fontSize:"0.875em",fontWeight:"bold",color:n||"text"},l)),r.a.createElement(G,{lineHeight:"1.75",fontWeight:"bold",fontSize:"1.5em"},Math.round(100*i),"%"))),e.concat(m)}),[]))};Oe.defaultProps={showSep:!0};var _e,ke=Oe,Ce=a(351),Se=a.n(Ce),ze=function(e){var t=e.data,a=e.texts,n=Object(K.a)(e,["data","texts"]);return r.a.createElement(Z,n,r.a.createElement(Z,{width:.5,mx:"auto",my:"1em"},r.a.createElement(ye,{src:Se.a})),r.a.createElement(Z,null,r.a.createElement(be.H4,{fontSize:"1.5em"},a.total),r.a.createElement(Q,{alignItems:"flex-end",my:"1em"},r.a.createElement(Z,{flex:"1",borderBottom:"0.25em solid",borderBottomColor:"white",px:"0.5em"},r.a.createElement(G,{color:"primary",lineHeight:"1",fontSize:"3.25em",fontWeight:"bold"},t.summary.total.toLocaleString())),r.a.createElement(Z,{ml:"0.5em",fontSize:"1.25em"},"\u4ef6"))),r.a.createElement(Z,null,r.a.createElement(be.H4,{fontSize:"1.5em"},a.med_total),r.a.createElement(ke,{my:"1em",values:t.summary.meds.map((function(e,n){var r=e.key,o=e.value;return{label:a[r],color:t.colors[n],value:o}}))})))},Be=a(717),He=a(725),Ie=a(352);"undefined"!==typeof window&&(_e="Internet Explorer"===a.n(Ie).a.getParser(window.navigator.userAgent).getBrowserName());var Fe=_e,De=function(e){return function(t){return function(a){return Fe?r.a.createElement(u.SizeMe,null,(function(n){var o=n.size;return r.a.createElement(t,Object.assign({},a,{isIE:!0,size:o,ratio:o.width/e}))})):Object(n.createElement)(t,Object(f.a)(Object(f.a)({},a),{},{size:{width:e},ratio:1}))}}},We=De(400)((function(e){var t=e.data,a=e.colors,n=e.size,o=e.ratio,l=e.isIE;return r.a.createElement(Be.a,{data:t,colorScale:a,innerRadius:100*o,labels:function(){return null},animate:{duration:1e3},width:n.width,height:n.width,containerComponent:r.a.createElement(He.a,{responsive:!l})})})),Ae=function(e){var t=e.data,a=e.colors,n=e.texts,o=Object(K.a)(e,["data","colors","texts"]);return r.a.createElement(Z,Object.assign({position:"relative",px:"5%"},o),r.a.createElement(We,{data:t,colors:a}),r.a.createElement(Z,{position:"absolute",textAlign:"center",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:"heading",fontWeight:"bold"},r.a.createElement(G,{fontSize:"1.5em"},"\u672c\u5e74"),r.a.createElement(G,null,n.channel_label)))},Pe=function(e){var t=e.data,a=e.texts,n=Object(K.a)(e,["data","texts"]);return r.a.createElement(Z,n,r.a.createElement(be.H4,{mt:"1rem",mx:"1.5rem",fontSize:"1.5em"},a.channel_title),r.a.createElement(Z,null,r.a.createElement(Ae,{data:t.channel,colors:t.colors,texts:a}),r.a.createElement(ke,{values:t.channel.map((function(e,a){var n=e.x,r=e.y;return{color:t.colors[a],label:n,value:r}})).reverse(),textColor:"black",bg:"transparent",showSep:!1,px:"2em",fontSize:"1.125em",mt:"-1em"})))},Me=a(716),Re=a(723),Te=a(728),Le=a(721),Je=a(729),Ne=a(719),Ye=a(726),qe=De(600)((function(e){var t=e.size.width,a=e.ratio,n=e.isIE,o=e.data,l=e.texts,c=e.transformData;return r.a.createElement(Me.a,{height:320/600*t,width:t,domainPadding:{x:30*a},animate:{duration:1e3},containerComponent:r.a.createElement(Re.a,{style:{},responsive:!n,labels:function(e){var t=e.datum;return t.y>0?"".concat(t.y," ").concat(l[t.key],"\u6848\u4ef6"):null},labelComponent:r.a.createElement(Te.a,{flyoutWidth:120})})},r.a.createElement(Le.a,{y:25,text:l.month_axis_label}),r.a.createElement(Je.a,{colorScale:o.colors},c.map((function(e,t){return r.a.createElement(Ne.a,{data:e,barWidth:28*a,key:t})}))),r.a.createElement(Ye.a,{dependentAxis:!0,tickFormat:function(e){return e}}),r.a.createElement(Ye.a,{tickFormat:y()(12).map((function(e){return"".concat(e+1,"\u6708")}))}))})),Qe=function(e){var t=e.data,a=e.texts,n=t.months.reduce((function(e,t){return t.forEach((function(t,a){e[a].push(t)})),e}),[[],[],[]]);return r.a.createElement(Z,{borderLeft:"1px solid",borderColor:"lightBlue",pl:"1.5em",ml:"-1.5em"},r.a.createElement(qe,{data:t,transformData:n,texts:a}))},Ve=function(e){var t=e.data,a=e.colors,n=e.texts,o=Object(K.a)(e,["data","colors","texts"]);return r.a.createElement(Q,Object.assign({justifyContent:"center"},o),t.map((function(e,t){var o=e.key;return r.a.createElement(Q,{alignItems:"center",mx:"0.5em",justifyContent:"center",key:t},r.a.createElement(we,{width:"1em",bg:a[t]}),r.a.createElement(G,{mx:"0.25em",fontWeight:"bold",color:"text"},n[o]))})))},Ge=function(e){var t=e.data,a=e.texts,n=Object(K.a)(e,["data","texts"]);return r.a.createElement(Z,Object.assign({py:"1em",px:"1.5em"},n),r.a.createElement(be.H4,{fontSize:"1.5em"},a.month_title),r.a.createElement(Qe,{data:t,texts:a}),r.a.createElement(Ve,{data:t.months[0],colors:t.colors,texts:a}))},Ke=a(364),Ue=a.n(Ke),Xe=a(365),Ze=a.n(Xe),$e=a(730),et=a(366),tt=a.n(et),at=De(800)((function(e){var t=e.data,a=e.texts,n=e.size,o=e.ratio,l=e.isIE,c=t.areas.reduce((function(e,t){var a=t.label,n=t.med_accepted,r=t.med_pending,o=t.med_rejected;return e.forEach((function(t,l){l?l===e.length-1?t.push({x:a,y:100*r,key:"med_pending"}):t.push({x:a,y:100*o,key:"med_rejected"}):t.push({x:a,y:100*n,key:"med_accepted"})})),e}),[[],[],[]]),i=t.colors.map((function(e){return[e]}));return r.a.createElement(Me.a,{domainPadding:{x:50*o},width:n.width,height:.375*n.width,animate:{duration:1e3},containerComponent:r.a.createElement(Re.a,{style:{},labels:function(e){var t=e.datum;return t.y>0?"".concat(a[t.key]).concat(tt()(t.y),"%"):null},voronoiDimension:"x",labelComponent:r.a.createElement(Te.a,{flyoutWidth:80}),responsive:!l})},r.a.createElement($e.a,{offset:20*o,style:{data:{width:20*o}}},c.map((function(e,t){return r.a.createElement(Je.a,{colorScale:i[t],key:t},r.a.createElement(Ne.a,{data:e.slice(0,10),barWidth:20*o}))}))),r.a.createElement(Le.a,{y:30,x:24,text:"(%)"}))})),nt=function(e){var t=e.data,a=e.texts;return r.a.createElement(Q,null,r.a.createElement(Z,{width:.7,bg:"white",py:"2em"},r.a.createElement(Q,{justifyContent:"space-between",alignItems:"flex-end",mx:"2em"},r.a.createElement(be.H4,{fontSize:"1.5em"},a.area_title),r.a.createElement(Ve,{data:t.months[0],colors:t.colors,texts:a})),r.a.createElement(at,{data:t,texts:a})),r.a.createElement(Z,{width:.3,height:"50vh",overflowY:"scroll",p:"2em"},r.a.createElement(Q,{alignItems:"center"},r.a.createElement(Z,{width:"3em",mr:"0.25em"},r.a.createElement(ye,{src:Ze.a})),r.a.createElement(be.H4,{lineHeight:"1",fontSize:"1.5em"},a.area_list)),r.a.createElement(Z,{mt:"1.5em"},t.areas.slice(10).map((function(e,n){var o=Ue()(e,(function(e,t){return{key:t,value:e}}));return r.a.createElement(Z,{key:n},r.a.createElement(Q,{alignItems:"flex-end"},r.a.createElement(be.H4,{lineHeight:"1",fontSize:"1.125em",mr:"0.5rem"},e.label),r.a.createElement(be.H6,null,a.area_list_label)),r.a.createElement(ke,{my:"1em",values:o.slice(1).map((function(e,n){var r=e.key,o=e.value;return{label:a[r],color:t.colors[n],value:o}}))}))})))))},rt=a(367),ot=a.n(rt),lt=["med_total","total"],ct=["med_accepted","med_rejected","med_pending"],it=function(e){var t=e.reduce((function(e,t){return e+=t.value}),0);return e.map((function(e){var a=e.label;return{y:e.value/t,x:a}}))},mt={title:"\u6848\u4ef6\u8072\u8acb\u8207\u53d7\u7406\u6578\u64da",total:"\u53d7\u7406\u7e3d\u6848\u4ef6\u6578",med_total:"\u8abf\u89e3\u7d50\u679c\u6848\u4ef6\u6578",med_accepted:"\u6210\u7acb",med_rejected:"\u4e0d\u6210\u7acb",med_pending:"\u672a\u7d50",channel_title:"\u8072\u8acb\u6848\u4ef6\u985e\u5225",channel_label:"\u7e3d\u53d7\u7406\u6848\u985e\u5225",month_title:"\u6bcf\u6708\u53d7\u7406\u6848\u4ef6\u8207\u8abf\u89e3\u7d50\u679c\u6bd4\u4f8b",month_axis_label:"\u7e3d\u7533\u8acb\u6848\u4ef6\u6578",area_title:"\u5404\u5340\u8abf\u89e3\u7d50\u679c TOP10",area_list:"\u5404\u5340\u8abf\u89e3\u7d50\u679c\uff08\u5168\u90e8\uff09",area_list_label:"\u6848\u4ef6\u53d7\u7406\u72c0\u6cc1"},ut=function(){var e=r.a.useState((new Date).getFullYear()-1911),t=Object(b.a)(e,2),a=t[0],o=t[1],l=function(){var e=Object(N.c)("texts",null,[]),t=e.data;return e.error?mt:t?Object.assign(mt,t):{}}(),c=function(e){var t=Object(N.c)("data?year=".concat(e),null,[e]).data;return Object(n.useMemo)((function(){if(!t||!te()(t))return t;var e={},a=[],n={};t.meds.forEach((function(t){var r=t.month,o=t.areas,l={};o.forEach((function(t){var a=t.stats,r=t.areaname;n[r]=n[r]||{},ct.forEach((function(t){e[t]=e[t]||0,e[t]+=a[t],l[t]=l[t]||0,l[t]+=a[t],n[r][t]=n[r][t]||0,n[r][t]+=a[t]})),lt.forEach((function(t){e[t]=e[t]||0,e[t]+=a[t],n[r][t]=n[r][t]||0,n[r][t]+=a[t]}))})),a.push(ct.map((function(e){return{x:r,key:e,y:l[e],value:l[e]}})))}));var r=Object.entries(n).map((function(e){var t=Object(b.a)(e,2),a=t[0],n=t[1];return Object(f.a)({label:a},ct.reduce((function(e,t){return e[t]=n.med_total?n[t]/n.med_total:0,e}),{}))}));return{areas:ot()(r,"med_accepted").reverse(),summary:{total:e.total,meds:ct.map((function(t){return{key:t,value:e.med_total?e[t]/e.med_total:0}}))},months:a,keys:ct,colors:[W.colors.primary,W.colors.darkBlue,W.colors.lightBlue],channel:it(t.channel)}}),[t])}(a);return r.a.createElement($,{p:"4em",minWidth:800},r.a.createElement(Q,{alignItems:"center",fontWeight:"bold"},r.a.createElement(se,{value:a,onChange:o}),r.a.createElement(G.H2,{fontSize:"1.75em",mx:"1em"},l.title)),c&&r.a.createElement(r.a.Fragment,null,r.a.createElement(de,{as:Q,my:"2.5em"},r.a.createElement(ze,{bg:"paleBlue",width:"22%",p:"1.5em",data:c,texts:l}),r.a.createElement(Pe,{width:"26%",data:c,texts:l}),r.a.createElement(Ge,{width:"52%",data:c,texts:l})),r.a.createElement(de,{my:"2.5em"},r.a.createElement(nt,{data:c,texts:l}))))};var st=function(){return r.a.createElement(ut,null)};l.a.render(r.a.createElement(M,null,r.a.createElement(J,null,r.a.createElement(Y,null,r.a.createElement(st,null)))),document.getElementById("root"))}},[[371,1,2]]]);
//# sourceMappingURL=main.984d7276.chunk.js.map