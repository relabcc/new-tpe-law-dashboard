(this["webpackJsonpnew-tpe-law-dashboard"]=this["webpackJsonpnew-tpe-law-dashboard"]||[]).push([[0],{349:function(e,t,a){e.exports=a.p+"static/media/envelope.0df56668.svg"},361:function(e,t,a){e.exports=a.p+"static/media/listicon.bd1cc40f.svg"},367:function(e,t,a){e.exports=a(690)},690:function(e,t,a){"use strict";a.r(t);a(368),a(377);var n=a(1),r=a.n(n),o=a(226),l=a.n(o),c=a(713),i=a(709),m=a(17),u=a(336),s=Object(n.createContext)({}),d=a(164),f=a(59),b=a(109),p=a(707),h=a(339),g=a.n(h),E=a(26),v=a.n(E),x=a(51),y=a.n(x),j=a(132),O=a.n(j),w=a(340),k=a.n(w),_=function(e){return"".concat(16*e,"px")},C=[30,48,62,80].map(_),S=[26,44,58,76].map(_),z=[[2,"mobile"],[3,"tablet"]],B=C.map((function(e,t){var a=z.findIndex((function(e){return Object(b.a)(e,1)[0]>t}));return a>=0?a:z.length})),H=(function(e){var t={}}((function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];var n=t.length;return n<=1?t[0]:C.map((function(e,a){return O()(t,[B[a]],null)}))})),'Arial, "PingFang TC", "HeiTi TC", "Microsoft JhengHei", sans-serif'),F={heading:H,body:H,mono:"Menlo, monospace"},W=[50].concat(y()(100,1e3,100)),I=k()(g()("#6980DB"),(function(e){return v()(e)?e.reduce((function(e,t,a){return e[W[a]]=t,e}),{}):e})),D=Object(f.a)(Object(f.a)({},p.a),{},{fonts:F,colors:Object(f.a)(Object(f.a)(Object(f.a)({},p.a.colors),I),{},{primary:"#6980DB",secondary:O()(I,"".concat("green",".700")),danger:O()(I,"".concat("red",".700")),text:"#404B55",heading:"#403D88",bg:"#F6F7FF",paleBlue:"#EBEFFF",lightBlue:"#B7C2F4",darkBlue:"#4863BD"}),breakpoints:C,containerWidth:S});function A(){var e=Object(d.a)(["\n  body {\n    min-width: 100%;\n    min-height: 100%;\n    font-size: ","px;\n    color: ",";\n    background-color: ",";\n  }\n\n  img {\n    width: 100%;\n  }\n"]);return A=function(){return e},e}var P=function(e){return Object(m.c)(A(),e,D.colors.text,D.colors.bg)},M=function(e){var t=e.children;return r.a.createElement(c.a,{theme:D},r.a.createElement(u.SizeMe,null,(function(e){var a=e.size.width,o=Math.round(Math.max(a,800)/94);return r.a.createElement("div",null,r.a.createElement(s.Provider,{value:{em:o}},r.a.createElement(n.Fragment,null,r.a.createElement(i.a,null),r.a.createElement(m.a,{styles:P(o)}),t)))})))},R=Object(n.createContext)({}),T=a(344),L=function(e){return Object(T.useMediaQuery)({query:"(min-width: ".concat(e,")")})},J=function(e){var t=e.children,a=C.map(L);return r.a.createElement(R.Provider,{value:a},t)},Y=a(88),N=function(e){var t=e.children;return r.a.createElement(Y.b,{url:"https://new-tpe-law-dash-api.relab.cc"},t)},q=a(87),Q=q.a;q.a.Inline=function(e){return r.a.createElement(q.a,Object.assign({as:"span",display:"inline-block",verticalAlign:"middle"},e))},q.a.Absolute=function(e){return r.a.createElement(q.a,Object.assign({position:"absolute"},e))},q.a.FullAbs=function(e){return r.a.createElement(q.a.Absolute,Object.assign({top:"0",left:"0",right:"0",bottom:"0"},e))},q.a.Relative=function(e){return r.a.createElement(q.a,Object.assign({position:"relative"},e))},q.a.Fixed=function(e){return r.a.createElement(q.a,Object.assign({position:"fixed"},e))},q.a.Invisible=function(e){return r.a.createElement(q.a.Absolute,Object.assign({width:"0",height:"0",overflow:"hidden",opacity:"0"},e))};var V=a(697);V.a.Vertical=function(e){return r.a.createElement(V.a,Object.assign({direction:"column"},e))};var G=V.a,K=a(698);K.a.Inline=function(e){return r.a.createElement(K.a,Object.assign({as:"span"},e))},K.a.Bold=function(e){return r.a.createElement(K.a,Object.assign({fontWeight:"bold"},e))},K.a.Thin=function(e){return r.a.createElement(K.a,Object.assign({fontWeight:"200"},e))},y()(1,7).forEach((function(e){K.a["H".concat(e)]=function(t){return r.a.createElement(K.a,Object.assign({as:"h".concat(e),fontSize:"".concat(5-e,"xl")},t))}}));var U=K.a,X=a(23),Z=a(364),$=Object(Z.a)((function(e){var t=e.children,a=e.windowSize,n=Object(X.a)(e,["children","windowSize"]);return r.a.createElement(Q,Object.assign({style:{height:a.height}},n),t)})),ee=a(347),te=a.n(ee),ae=(a(648),a(177)),ne=a(348);function re(){var e=Object(d.a)(["\n  .Dropdown-control {\n    border: none;\n    border-radius: ",";\n    text-align: center;\n    background-color: white;\n    color: black;\n    font-family: inherit;\n    padding: 0.25em;\n    font-size: 1em;\n    cursor: pointer;\n    transition: none;\n    box-shadow: 0.125em 0.125em 0.125em ",";\n  }\n  &.is-open {\n    .Dropdown-control {\n      border-radius: "," "," 0 0;\n    }\n  }\n  .Dropdown-placeholder {\n\n  }\n  .Dropdown-menu {\n    border: 1px solid;\n    transform: translateY(1px);\n    border-radius: 0 0 "," ",";\n  }\n  .Dropdown-option {\n    color: inherit;\n    text-align: center;\n    padding: 0.5em 1em;\n    border-bottom: 1px solid gray;\n  }\n  .Dropdown-arrow {\n    border-color: black transparent transparent;\n    top: 0.8em;\n    right: 0.5em;\n  }\n"]);return re=function(){return e},e}var oe=Object(ae.a)(te.a)(re(),"0.125em",Object(ne.a)("colors.blackAlpha.300"),"0.125em","0.125em","0.125em","0.125em"),le=function(e){var t=e.options,a=e.onChange,n=(e.onBlur,e.value),o=(e.name,e.placeholder),l=e.disabled,c=Object(X.a)(e,["options","onChange","onBlur","value","name","placeholder","disabled"]),i=t&&t.find((function(e){return e.value===n}));return r.a.createElement(Q,c,r.a.createElement(oe,{onChange:a,options:t,value:i,placeholder:o,disabled:l}))};le.defaultProps={onChange:function(){}};var ce=le,ie=[{label:"109\u5e74",value:109}],me=function(e){var t,a=e.value,n=e.onChange,o=Object(Y.c)("years",null,[]),l=o.data,c=o.error;return console.log(l),c?t=ie:l&&(t=l.map((function(e){return{label:"".concat(e,"\u5e74"),value:e}}))),r.a.createElement(ce,{options:t,value:a,onChange:function(e){return n(e.value)},placeholder:"\u8f09\u5165\u4e2d...",fontSize:"1.5em",width:"6em"})},ue=function(e){return r.a.createElement(Q,Object.assign({position:"relative",overflow:"hidden",borderRadius:"1.5em",boxShadow:"1em 1em 1.5em rgba(0,0,0,0.2)"},e))},se=a(699);se.a.defaultProps={color:"heading"},y()(1,7).forEach((function(e){se.a["H".concat(e)]=function(t){return r.a.createElement(se.a,Object.assign({as:"h".concat(e),fontSize:"".concat(5-e,"xl")},t))}}));var de=se.a,fe=a(133),be=a.n(fe),pe=a(700),he={gif:"image/gif",jpeg:"image/jpeg",jpg:"image/jpeg",png:"image/png",tiff:"image/tiff",tif:"image/tiff",webp:"image/webp"},ge=/data:(\w+\/\w+);base64/,Ee=function(e){var t=e.src,a=e.alt,o=Object(X.a)(e,["src","alt"]),l=Object(n.useMemo)((function(){return v()(t)?{sources:t.map((function(e){var t=ge.exec(e),a=t?t[1]:he[be()(e.split("."))];return{srcset:e,type:a}})),fallback:be()(t)}:null}),[t]);return v()(t)?r.a.createElement(pe.a,Object.assign({as:"picture"},o),l.sources.map((function(e,t){return r.a.createElement("source",Object.assign({key:t},e))})),r.a.createElement("img",{src:l.fallback,alt:a})):r.a.createElement(pe.a,Object.assign({src:t,alt:a},o))};Ee.defaultProps={width:"100%"},Ee.displayName="ReImage";var ve=Ee,xe=function(e){var t=e.children,a=e.border,n=e.borderColor,o=e.bg,l=e.as,c=Object(X.a)(e,["children","border","borderColor","bg","as"]);return r.a.createElement(Q,c,r.a.createElement(Q,{position:"relative",pt:"100%"},r.a.createElement(Q,{position:"absolute",top:"0",left:"0",right:"0",bottom:"0",width:"100%",borderRadius:"50%",border:a,borderColor:n,bg:o,as:l},r.a.createElement(Q,{top:"50%",left:"50%",transform:"translate(-50%, -50%)",position:"absolute",lineHeight:"0"},t))))};xe.displayName="Circle";var ye=xe,je=function(e){var t=e.values,a=e.showSep,n=e.textColor,o=Object(X.a)(e,["values","showSep","textColor"]);return r.a.createElement(G,Object.assign({bg:"rgba(255,255,255,0.6)",borderRadius:"1em",px:"1em",py:"0.5em",color:"darkBlue"},o),t.reduce((function(e,t,o){var l=t.label,c=t.color,i=t.value,m=o&&a?[r.a.createElement(Q,{key:"sep-".concat(o),my:"0.5em",mx:"0.25em",borderLeft:"2px solid",borderLeftColor:"lightBlue"})]:[];return m.push(r.a.createElement(Q,{key:o,flex:"1",textAlign:"center"},r.a.createElement(G,{alignItems:"center",justifyContent:"center"},r.a.createElement(ye,{width:"0.875em",bg:c}),r.a.createElement(U,{mx:"0.25em",fontSize:"0.875em",fontWeight:"bold",color:n||"text"},l)),r.a.createElement(U,{lineHeight:"1.75",fontWeight:"bold",fontSize:"1.5em"},Math.round(100*i),"%"))),e.concat(m)}),[]))};je.defaultProps={showSep:!0};var Oe=je,we=a(349),ke=a.n(we),_e=function(e){var t=e.data,a=e.texts,n=Object(X.a)(e,["data","texts"]);return r.a.createElement(Q,n,r.a.createElement(Q,{width:.5,mx:"auto",my:"1em"},r.a.createElement(ve,{src:ke.a})),r.a.createElement(Q,null,r.a.createElement(de.H4,{fontSize:"1.5em"},a.total),r.a.createElement(G,{alignItems:"flex-end",my:"1em"},r.a.createElement(Q,{flex:"1",borderBottom:"0.25em solid",borderBottomColor:"white",px:"0.5em"},r.a.createElement(U,{color:"primary",lineHeight:"1",fontSize:"3.25em",fontWeight:"bold"},t.summary.total.toLocaleString())),r.a.createElement(Q,{ml:"0.5em",fontSize:"1.25em"},"\u4ef6"))),r.a.createElement(Q,null,r.a.createElement(de.H4,{fontSize:"1.5em"},a.med_total),r.a.createElement(Oe,{my:"1em",values:t.summary.meds.map((function(e,n){var r=e.key,o=e.value;return{label:a[r],color:t.colors[n],value:o}}))})))},Ce=a(706),Se=function(e){var t=e.data,a=e.colors,n=e.texts,o=Object(X.a)(e,["data","colors","texts"]);return r.a.createElement(Q,Object.assign({position:"relative",px:"5%"},o),r.a.createElement(Ce.a,{data:t,colorScale:a,innerRadius:"100",labels:function(){return null},animate:{duration:1e3}}),r.a.createElement(Q,{position:"absolute",textAlign:"center",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:"heading",fontWeight:"bold"},r.a.createElement(U,{fontSize:"1.5em"},"\u672c\u5e74"),r.a.createElement(U,null,n.channel_label)))},ze=function(e){var t=e.data,a=e.texts,n=Object(X.a)(e,["data","texts"]);return r.a.createElement(Q,n,r.a.createElement(de.H4,{mt:"1rem",mx:"1.5rem",fontSize:"1.5em"},a.channel_title),r.a.createElement(Q,null,r.a.createElement(Se,{data:t.channel,colors:t.colors,texts:a}),r.a.createElement(Oe,{values:t.channel.map((function(e,a){var n=e.x,r=e.y;return{color:t.colors[a],label:n,value:r}})).reverse(),textColor:"black",bg:"transparent",showSep:!1,px:"2em",fontSize:"1.125em",mt:"-1em"})))},Be=a(705),He=a(712),Fe=a(717),We=a(710),Ie=a(718),De=a(708),Ae=a(715),Pe=function(e){var t=e.data,a=e.texts,n=(Object(X.a)(e,["data","texts"]),t.months.reduce((function(e,t){return t.forEach((function(t,a){e[a].push(t)})),e}),[[],[],[]]));return r.a.createElement(Q,{borderLeft:"1px solid",borderColor:"lightBlue",pl:"1.5em",ml:"-1.5em"},r.a.createElement(Be.a,{height:320,width:600,domainPadding:{x:30},animate:{duration:1e3},containerComponent:r.a.createElement(He.a,{style:{},labels:function(e){var t=e.datum;return t.y>0?"".concat(t.y," ").concat(a[t.key],"\u6848\u4ef6"):null},labelComponent:r.a.createElement(Fe.a,{flyoutWidth:120})})},r.a.createElement(We.a,{y:25,text:a.month_axis_label}),r.a.createElement(Ie.a,{colorScale:t.colors},n.map((function(e,t){return r.a.createElement(De.a,{data:e,barWidth:28,key:t})}))),r.a.createElement(Ae.a,{dependentAxis:!0,tickFormat:function(e){return e}}),r.a.createElement(Ae.a,{tickFormat:y()(12).map((function(e){return"".concat(e+1,"\u6708")}))})))},Me=function(e){var t=e.data,a=e.colors,n=e.texts,o=Object(X.a)(e,["data","colors","texts"]);return r.a.createElement(G,Object.assign({justifyContent:"center"},o),t.map((function(e,t){var o=e.key;return r.a.createElement(G,{alignItems:"center",mx:"0.5em",justifyContent:"center",key:t},r.a.createElement(ye,{width:"1em",bg:a[t]}),r.a.createElement(U,{mx:"0.25em",fontWeight:"bold",color:"text"},n[o]))})))},Re=function(e){var t=e.data,a=e.texts,n=Object(X.a)(e,["data","texts"]);return r.a.createElement(Q,Object.assign({py:"1em",px:"1.5em"},n),r.a.createElement(de.H4,{fontSize:"1.5em"},a.month_title),r.a.createElement(Pe,{data:t,texts:a}),r.a.createElement(Me,{data:t.months[0],colors:t.colors,texts:a}))},Te=a(360),Le=a.n(Te),Je=a(361),Ye=a.n(Je),Ne=a(719),qe=a(362),Qe=a.n(qe),Ve=function(e){var t=e.data,a=e.texts,n=Object(X.a)(e,["data","texts"]),o=t.areas.reduce((function(e,t,a){var n=t.label,r=t.med_accepted,o=t.med_pending,l=t.med_rejected;return e.forEach((function(t,a){a?a===e.length-1?t.push({x:n,y:100*o,key:"med_pending"}):t.push({x:n,y:100*l,key:"med_rejected"}):t.push({x:n,y:100*r,key:"med_accepted"})})),e}),[[],[],[]]),l=t.colors.map((function(e){return[e]}));return console.log(o),r.a.createElement(Q,n,r.a.createElement(Be.a,{domainPadding:{x:50},width:800,height:300,animate:{duration:1e3},containerComponent:r.a.createElement(He.a,{style:{},labels:function(e){var t=e.datum;return console.log(t)||t.y>0?"".concat(a[t.key]).concat(Qe()(t.y),"%"):null},voronoiDimension:"x",labelComponent:r.a.createElement(Fe.a,{flyoutWidth:80})})},r.a.createElement(Ne.a,{offset:20,style:{data:{width:20}}},o.map((function(e,t){return r.a.createElement(Ie.a,{colorScale:l[t],key:t},r.a.createElement(De.a,{data:e.slice(0,10),barWidth:20}))}))),r.a.createElement(We.a,{y:30,x:24,text:"(%)"})))},Ge=function(e){var t=e.data,a=e.texts;return r.a.createElement(G,null,r.a.createElement(Q,{width:.7,bg:"white",py:"2em"},r.a.createElement(G,{justifyContent:"space-between",alignItems:"flex-end",mx:"2em"},r.a.createElement(de.H4,{fontSize:"1.5em"},a.area_title),r.a.createElement(Me,{data:t.months[0],colors:t.colors,texts:a})),r.a.createElement(Ve,{data:t,texts:a})),r.a.createElement(Q,{width:.3,height:"50vh",overflowY:"scroll",p:"2em"},r.a.createElement(G,{alignItems:"center"},r.a.createElement(Q,{width:"3em",mr:"0.25em"},r.a.createElement(ve,{src:Ye.a})),r.a.createElement(de.H4,{lineHeight:"1",fontSize:"1.5em"},a.area_list)),r.a.createElement(Q,{mt:"1.5em"},t.areas.slice(10).map((function(e,n){var o=Le()(e,(function(e,t){return{key:t,value:e}}));return r.a.createElement(Q,{key:n},r.a.createElement(G,{alignItems:"flex-end"},r.a.createElement(de.H4,{lineHeight:"1",fontSize:"1.125em",mr:"0.5rem"},e.label),r.a.createElement(de.H6,null,a.area_list_label)),r.a.createElement(Oe,{my:"1em",values:o.slice(1).map((function(e,n){var r=e.key,o=e.value;return{label:a[r],color:t.colors[n],value:o}}))}))})))))},Ke=a(363),Ue=a.n(Ke),Xe=["med_total","total"],Ze=["med_accepted","med_rejected","med_pending"],$e=function(e){var t=e.reduce((function(e,t){return e+=t.value}),0);return e.map((function(e){var a=e.label;return{y:e.value/t,x:a}}))},et={title:"\u6848\u4ef6\u8072\u8acb\u8207\u53d7\u7406\u6578\u64da",total:"\u53d7\u7406\u7e3d\u6848\u4ef6\u6578",med_total:"\u8abf\u89e3\u7d50\u679c\u6848\u4ef6\u6578",med_accepted:"\u6210\u7acb",med_rejected:"\u4e0d\u6210\u7acb",med_pending:"\u672a\u7d50",channel_title:"\u8072\u8acb\u6848\u4ef6\u985e\u5225",channel_label:"\u7e3d\u53d7\u7406\u6848\u985e\u5225",month_title:"\u6bcf\u6708\u53d7\u7406\u6848\u4ef6\u8207\u8abf\u89e3\u7d50\u679c\u6bd4\u4f8b",month_axis_label:"\u7e3d\u7533\u8acb\u6848\u4ef6\u6578",area_title:"\u5404\u5340\u8abf\u89e3\u7d50\u679c TOP10",area_list:"\u5404\u5340\u8abf\u89e3\u7d50\u679c\uff08\u5168\u90e8\uff09",area_list_label:"\u6848\u4ef6\u53d7\u7406\u72c0\u6cc1"},tt=function(){var e=r.a.useState((new Date).getFullYear()-1911),t=Object(b.a)(e,2),a=t[0],o=t[1],l=function(){var e=Object(Y.c)("texts",null,[]),t=e.data;return e.error?et:t?Object.assign(et,t):{}}(),c=function(e){var t=Object(Y.c)("data?year=".concat(e),null,[e]).data;return Object(n.useMemo)((function(){if(!t)return t;var e={},a=[],n={};t.meds.forEach((function(t){var r=t.month,o=t.areas,l={};o.forEach((function(t){var a=t.stats,r=t.areaname;n[r]=n[r]||{},Ze.forEach((function(t){e[t]=e[t]||0,e[t]+=a[t],l[t]=l[t]||0,l[t]+=a[t],n[r][t]=n[r][t]||0,n[r][t]+=a[t]})),Xe.forEach((function(t){e[t]=e[t]||0,e[t]+=a[t],n[r][t]=n[r][t]||0,n[r][t]+=a[t]}))})),a.push(Ze.map((function(e){return{x:r,key:e,y:l[e],value:l[e]}})))}));var r=Object.entries(n).map((function(e){var t=Object(b.a)(e,2),a=t[0],n=t[1];return Object(f.a)({label:a},Ze.reduce((function(e,t){return e[t]=n[t]/n.med_total,e}),{}))}));return{areas:Ue()(r,"med_accepted").reverse(),summary:{total:e.total,meds:Ze.map((function(t){return{key:t,value:e[t]/e.med_total}}))},months:a,keys:Ze,colors:[D.colors.primary,D.colors.darkBlue,D.colors.lightBlue],channel:$e(t.channel)}}),[t])}(a);return console.log(c),r.a.createElement($,{p:"4em",minWidth:800},r.a.createElement(G,{alignItems:"center",fontWeight:"bold"},r.a.createElement(me,{value:a,onChange:o}),r.a.createElement(U.H2,{fontSize:"1.75em",mx:"1em"},l.title)),c&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ue,{as:G,my:"2.5em"},r.a.createElement(_e,{bg:"paleBlue",width:"22%",p:"1.5em",data:c,texts:l}),r.a.createElement(ze,{width:"26%",data:c,texts:l}),r.a.createElement(Re,{width:"52%",data:c,texts:l})),r.a.createElement(ue,{my:"2.5em"},r.a.createElement(Ge,{data:c,texts:l}))))};var at=function(){return r.a.createElement(tt,null)};l.a.render(r.a.createElement(M,null,r.a.createElement(J,null,r.a.createElement(N,null,r.a.createElement(at,null)))),document.getElementById("root"))}},[[367,1,2]]]);
//# sourceMappingURL=main.908f1980.chunk.js.map